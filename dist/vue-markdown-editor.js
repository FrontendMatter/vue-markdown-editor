!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("marked")):"function"==typeof define&&define.amd?define(["marked"],e):"object"==typeof exports?exports.VueMarkdownEditor=e(require("marked")):t.VueMarkdownEditor=e(t.marked)}(this,function(t){return function(t){function e(o){if(r[o])return r[o].exports;var i=r[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(12),n=o(i),a={MarkdownEditor:n["default"]};a.install=function(t){},"undefined"!=typeof window&&window.Vue&&window.Vue.use(a),e["default"]=a,t.exports=e["default"]},function(t,e){var r=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var i=r(4),n=o(i);Object.defineProperty(e,"__esModule",{value:!0});var a=r(13),l=o(a);e["default"]={name:"markdown-editor",filters:{marked:l["default"]},props:{model:{},fullscreen:{type:Boolean},validator:{},validate:{type:Object,"default":function(){return{required:{rule:!0,message:"The page content is required"}}}},markedOptions:{}},data:function(){return{scrollInitiator:null}},computed:{editorClass:function(){return{"md-editor-fullscreen":this.isFullscreen}},isFullscreen:function(){return"markdown-editor"===this.$parent.$options.name&&this.fullscreen},initiatorEvents:function(){return["mouseenter","touchstart"]}},methods:{initiators:function(){return[this.preview(),this.textarea()]},textarea:function(){return $(this.$els.textarea).get(0)},preview:function(){return $(this.$els.preview).get(0)},setScrollInitiator:function(t){this.scrollInitiator=t.target},calcScrollFactor:function(t,e){return(t.scrollHeight-t.clientHeight)/(e.scrollHeight-e.clientHeight)},textareaScrollFactor:function(){return this.calcScrollFactor(this.textarea(),this.preview())},previewScrollFactor:function(){return this.calcScrollFactor(this.preview(),this.textarea())},scrollFactorMax:function(){return Math.max.apply(null,[this.textareaScrollFactor(),this.previewScrollFactor()])},scrollFactorMin:function(){return Math.min.apply(null,[this.textareaScrollFactor(),this.previewScrollFactor()])},scrollTopFactor:function(t,e){return(0,n["default"])(e)?Math.round(t*e):t},syncScrollTextarea:function(t){if(this.scrollInitiator===this.preview()){var e=t.target.scrollTop,r=this.textareaScrollFactor()>1,o=r?this.scrollFactorMax():this.scrollFactorMin();this.textarea().scrollTop=this.scrollTopFactor(e,o)}},syncScrollPreview:function(t){if(this.scrollInitiator===this.textarea()){var e=t.target.scrollTop,r=this.previewScrollFactor()>1,o=r?this.scrollFactorMax():this.scrollFactorMin();this.preview().scrollTop=this.scrollTopFactor(e,o)}},updateValidator:function(){this.validator=this.$validation}},created:function(){this.markedOptions&&l["default"].setOptions(this.markedOptions)},ready:function(){var t=this;this.isFullscreen&&(this.initiators().forEach(function(e){t.initiatorEvents.forEach(function(r){e.addEventListener(r,t.setScrollInitiator)})}),$(this.textarea()).on("scroll",this.syncScrollPreview),$(this.preview()).on("scroll",this.syncScrollTextarea))},destroyed:function(){var t=this;this.isFullscreen&&(this.initiators().forEach(function(e){t.initiatorEvents.forEach(function(r){e.removeEventListener(r,t.setScrollInitiator)})}),$(this.textarea()).off("scroll",this.syncScrollPreview),$(this.preview()).off("scroll",this.syncScrollTextarea))}}},function(t,e,r){t.exports={"default":r(5),__esModule:!0}},function(t,e,r){r(9),t.exports=r(1).Number.isFinite},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,r){var o=r(6);t.exports=function(t,e,r){if(o(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,o){return t.call(e,r,o)};case 3:return function(r,o,i){return t.call(e,r,o,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){var o=r(2),i=r(1),n=r(7),a="prototype",l=function(t,e,r){var s,c,u,f=t&l.F,d=t&l.G,p=t&l.S,v=t&l.P,h=t&l.B,m=t&l.W,x=d?i:i[e]||(i[e]={}),w=d?o:p?o[e]:(o[e]||{})[a];d&&(r=e);for(s in r)c=!f&&w&&s in w,c&&s in x||(u=c?w[s]:r[s],x[s]=d&&"function"!=typeof w[s]?r[s]:h&&c?n(u,o):m&&w[s]==u?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[a]=t[a],e}(u):v&&"function"==typeof u?n(Function.call,u):u,v&&((x[a]||(x[a]={}))[s]=u))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,t.exports=l},function(t,e,r){var o=r(8),i=r(2).isFinite;o(o.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e){},function(t,e){t.exports='<div class="md-editor row" :class=editorClass><div class="col-md-6 md-editor-wrapper"><validator name=validation><textarea v-el:textarea class=form-control v-model=model debounce=300 placeholder="Write some content ..." :autofocus=isFullscreen field=content v-validate=validate @valid=updateValidator @invalid=updateValidator>\n			</textarea></validator></div><div class="col-md-6 md-preview-wrapper"><button v-if=fullscreen @click.stop="fullscreen=false" type=button class=md-editor-floating-button><i class="fa fa-close"></i></button> <button v-else @click.stop="fullscreen=true" type=button class=md-editor-floating-button><i class="fa fa-arrows-alt"></i></button><div :class="{ scrollable: isFullscreen }" v-el:preview><div class=md-preview v-if=model v-html="model | marked"></div></div></div></div><markdown-editor v-if="fullscreen && !isFullscreen" v-transfer-dom :model.sync=model :fullscreen.sync=fullscreen :validator.sync=validator :validate.sync=validate></markdown-editor>'},function(t,e,r){var o,i;r(10),o=r(3),i=r(11),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},function(e,r){e.exports=t}])});